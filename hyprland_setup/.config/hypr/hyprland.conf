# https://wiki.hypr.land/Configuring/

source = colors.conf

$terminal = foot
$fileManager = thunar
$menu = wofi --show drun
$browser = firefox

$FOCUS = I'm locked in

# cursor {
#     zoom_factor = 1
# }

# NOTE: Monitors ---------------------------------------------------------------
# https://wiki.hypr.land/Configuring/Monitors/

# auto-configure
monitor = , preferred, auto, 1

# # internal
# monitor = eDP-1, disabled
monitor = eDP-1, preferred, 0x0, 1 # , transform, 3
# monitor = eDP-1, 3840x2160, 0x0, 2.5 # , transform, 3

# external
monitor = HDMI-A-1, 1920x1080@75, auto-center-right, 1
$MON_TV = LG Electronics LG TV 0x01010101
monitor = desc:$MON_TV, preferred, auto-center-right, 2

# NOTE: Environment variables --------------------------------------------------
# https://wiki.hypr.land/Configuring/Environment-variables/

# theming
env = XCURSOR_SIZE, 24
# env = XCURSOR_THEME, Adwaita
# env = HYPRCURSOR_SIZE, 32
# env = HYPRCURSOR_THEME, Future-Cyan-Hyprcursor_Theme
env = QT_QPA_PLATFORMTHEME, qt6ct
env = QT_WAYLAND_DISABLE_WINDOWDECORATION, 1
env = QT_AUTO_SCREEN_SCALE_FACTOR, 1

# functional
env = XDG_SESSION_TYPE, wayland
env = GDK_BACKEND, wayland,x11
env = QT_QPA_PLATFORM, wayland;xcb
env = SDL_VIDEODRIVER, wayland,x11
env = CLUTTER_BACKEND, wayland
env = ELECTRON_OZONE_PLATFORM_HINT, auto
env = MOZ_ENABLE_WAYLAND, 1
env = _JAVA_AWT_WM_NONREPARENTING, 1

# # Nvidia stuff
# env = LIBVA_DRIVER_NAME,nvidia
# env = GBM_BACKEND,nvidia-drm
# env = __GLX_VENDOR_LIBRARY_NAME,nvidia
# env = NVD_BACKEND,direct

# NOTE: Autostart
exec-once=/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &
exec-once = dunst &
exec-once = nm-applet &
# exec-once = hypridle &
exec-once = hyprpaper &

exec-once = ags run &
exec-once = qs -c myshell &
exec-once = $terminal &


# NOTE: Look and feel

# https://wiki.hyprland.org/Configuring/Variables/#general
general {
    gaps_in = 10
    gaps_out = 20
# hyprlang if FOCUS
    gaps_in = 0
    gaps_out = 0
# hyprlang endif

    border_size = 3
    col.active_border = $c_border_active
    col.inactive_border = $c_border_inactive

    resize_on_border = true
    layout = dwindle
}

# https://wiki.hyprland.org/Configuring/Dwindle-Layout/
dwindle {
    pseudotile = true
    preserve_split = true
    force_split = 2
}

# https://wiki.hyprland.org/Configuring/Variables/#decoration
decoration {
    rounding = 10
# hyprlang if FOCUS
    rounding = 0
# hyprlang endif

    # # Change transparency of focused and unfocused windows
    # active_opacity = 1.0
    # inactive_opacity = 0.8

    # https://wiki.hyprland.org/Configuring/Variables/#blur
    blur {
        enabled = false
        size = 5
        passes = 2

        # vibrancy = 0.1696
        vibrancy = 0.5
    }

    shadow {
        enabled = true
# hyprlang if FOCUS
        enabled = false
# hyprlang endif
        range = 10
    }
}

# https://wiki.hyprland.org/Configuring/Variables/#misc
misc {
    force_default_wallpaper = 0
    disable_hyprland_logo = 1
    background_color = $c_background
    mouse_move_enables_dpms = true
    key_press_enables_dpms = true
    new_window_takes_over_fullscreen = 2
    # session_lock_xray = true
}

# https://wiki.hyprland.org/Configuring/Variables/#animations
# https://wiki.hyprland.org/Configuring/Animations/
animations {
    enabled = yes, please :D
# hyprlang if FOCUS
    enabled = no, hell nah
# hyprlang endif

    animation = windows, on, 2, default, slide
    animation = fade, on, 3, default
    animation = workspaces, on, 2, default, slidefade
    animation = borderangle, on, 20, default, once
    animation = layers, on, 2, default, slide

    # # Soramane
    # bezier = emphasizedAccel, 0.3, 0, 0.8, 0.15
    # bezier = emphasizedDecel, 0.05, 0.7, 0.1, 1
    # animation = layersIn, on, 5, emphasizedDecel, slide
    # animation = layersOut, on, 4, emphasizedAccel, slide

}

group {
    groupbar {
        font_family = CaskaydiaMono Nerd Font
        text_color = $c_group_text
        col.active = $c_border_active
        col.inactive = $c_border_inactive
        col.locked_active = $c_group_bar
        col.locked_inactive = $c_group_bar
        font_size = 15
        height = 25
        gradients = true
    }
}

# NOTE: Input ------------------------------------------------------------------

# https://wiki.hyprland.org/Configuring/Variables/#input
input {
    kb_layout = hu
    # kb_options = caps:swapescape
    repeat_delay=250
    # repeat_rate = 32

    follow_mouse = 1 # focus on hovered window
    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
    scroll_method = 2fg

    touchpad {
        natural_scroll = true
        disable_while_typing = false
# hyprlang if FOCUS
        # disable_while_typing = true
# hyprlang endif
    }
}

# # https://wiki.hyprland.org/Configuring/Variables/#gestures
# gestures {
#     workspace_swipe = true
# }

# NOTE: Keybinds (separate file) -----------------------------------------------
source = hyprland_bindings.conf

# NOTE: Rules ------------------------------------------------------------------
# Window-: https://wiki.hyprland.org/Configuring/Window-Rules/
# Workspace-: https://wiki.hyprland.org/Configuring/Workspace-Rules/

# Ignore maximize requests from apps.
windowrulev2 = suppressevent maximize, class:.*

# workspace = special:magic, on-created-empty:foot -H cowsay -f stegosaurus haha
workspace = special:magic, on-created-empty:foot btop

windowrulev2 = bordercolor rgb(ff0000), xwayland:1

# hyprlang if FOCUS

# "Smart gaps" / "No gaps when only"
workspace = w[tv1], gapsout:0, gapsin:0
workspace = f[1], gapsout:0, gapsin:0
windowrule = bordersize 0, floating:0, onworkspace:w[tv1]
windowrule = rounding 0, floating:0, onworkspace:w[tv1]
windowrule = bordersize 0, floating:0, onworkspace:f[1]
windowrule = rounding 0, floating:0, onworkspace:f[1]

# hyprlang endif
